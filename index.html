<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Realistic Fighter</title>
  <style>
    body {
      margin: 0;
      background: black;
      overflow: hidden;
    }
    canvas {
      display: block;
      margin: auto;
      background: url('stage.png') center/cover no-repeat;
    }
    #hud {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      display: flex;
      justify-content: space-between;
      font-family: sans-serif;
      color: white;
      font-size: 20px;
    }
    .bar {
      width: 40%;
      height: 20px;
      background: red;
      border: 2px solid white;
      border-radius: 5px;
      overflow: hidden;
    }
    .health {
      height: 100%;
      background: lime;
      width: 100%;
      transition: width 0.2s;
    }
  </style>
</head>
<body>
  <div id="hud">
    <div class="bar"><div id="p1health" class="health"></div></div>
    <div class="bar"><div id="p2health" class="health"></div></div>
  </div>
  <canvas id="game" width="800" height="400"></canvas>

  <script>
    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");

    // Load fighter images (replace with your own PNGs)
    const p1Img = new Image();
    p1Img.src = "fighter1.png";
    const p2Img = new Image();
    p2Img.src = "fighter2.png";

    // Fighters
    const player1 = { x: 100, y: 300, w: 80, h: 120, health: 100, keys: {} };
    const player2 = { x: 600, y: 300, w: 80, h: 120, health: 100, keys: {} };

    function drawFighter(f, img) {
      ctx.drawImage(img, f.x, f.y - f.h, f.w, f.h);
    }

    function update() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Movement
      if (player1.keys["a"]) player1.x -= 5;
      if (player1.keys["d"]) player1.x += 5;
      if (player2.keys["ArrowLeft"]) player2.x -= 5;
      if (player2.keys["ArrowRight"]) player2.x += 5;

      // Attacks
      if (player1.keys["j"]) attack(player1, player2);
      if (player2.keys["/"]) attack(player2, player1);

      // Draw fighters
      drawFighter(player1, p1Img);
      drawFighter(player2, p2Img);

      requestAnimationFrame(update);
    }

    function attack(attacker, target) {
      if (Math.abs(attacker.x - target.x) < 80) {
        target.health -= 1;
        updateHealthBars();
      }
    }

    function updateHealthBars() {
      document.getElementById("p1health").style.width = player1.health + "%";
      document.getElementById("p2health").style.width = player2.health + "%";
    }

    // Key controls
    window.addEventListener("keydown", (e) => {
      player1.keys[e.key] = true;
      player2.keys[e.key] = true;
    });
    window.addEventListener("keyup", (e) => {
      player1.keys[e.key] = false;
      player2.keys[e.key] = false;
    });

    update();
  </script>
</body>
</html>
